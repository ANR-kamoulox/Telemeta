# INSTALL
# =======


# 1. Requirements
# ===============

python (>= 2.3.5-7), python-xml, python-central (>= 0.5),
python-mutagen, python-django (>= 0.96.2), sox, vorbis-tools, flac, normalize-audio,
python-mysqldb, sqlite3 | mysql-server, octave2.9,
octave2.9-forge, python-tk, libgd2-xpm, libsndfile1, python-audiolab

optional:
lame, ecasound, par2

# 2. Install
# ==========

2.0. Install Telemeta:

    * On Debian (Testing recommended) or Ubuntu Hoary :

    Just add these lines to your /etc/apt/sources-list:

    deb http://debian.parisson.org/ binary/
    deb-src http://debian.parisson.org/ source/
    deb http://www.debian-multimedia.org etch main

    Then,

    $ sudo apt-get update
    $ sudo apt-get install telemeta

    This method provides the installation of all needed packages
    thanks to the Debian dependency system.

    Go to 2.2.

    * On other linux platforms

    Install all dependencies listed at 1.

    Download the lastest release of telemeta at

    http://svn.parisson.org/telemeta/

    Uncompress the archive like :

    $ tar xzvf telemeta_0.3.2.tar.gz
    
    Go to the main folder of telemeta and run this command
    in a shell as root:

    $ sudo python setup.py install

2.1.1. Install audiolab

    This is ONLY needed if you did NOT install telemeta with Debian's apt-get.

    In order to get the wavforms of the audio files,
    python-audiolab have to be installed in telemeta :
    
    $ svn export http://svn.scipy.org/svn/scikits/trunk/audiolab
    $ cd audiolab/
    $ sudo python setup.py install

2.1.2. Install the development version of the Django framework:

    $ svn co -r5313 http://code.djangoproject.com/svn/django/trunk/ django/
    $ cd django
    $ sudo python setup.py install
    
    WARNING: last know revision that works with Telemeta: 5313
    See http://www.djangoproject.com

2.2. Create a Django project if you haven't already done it:

    $ cd ~/my_projects
    $ django-admin startproject mysite

2.3. Create the media and cache directories:

    $ cd mysite
    $ mkdir media cache

    You might want to place these somewhere else...

2.4. Configure Django (settings.py):

    Modifiy the following variables:

    DATABASE_*: your database settings (don't forget to create the database if needed)
    MEDIA_ROOT: absolute path to the media directory you just created
    INSTALLED_APPS: add 'telemeta'

    Add the following variables:

    TELEMETA_CACHE_DIR = absolute path to the cache directory you just created

    Just paste the two lines below:
    TELEMETA_EXPORT_CACHE_DIR = TELEMETA_CACHE_DIR + "/export"
    CACHE_BACKEND = "file://" + TELEMETA_CACHE_DIR + "/data"

2.5. Initialize the database:

    $ python manage.py syncdb

2.6. Configure your urls:

    The simplest case is to have telemeta running at public root. To do so, add
    this url in urls.py :

    (r'^', include('telemeta.urls')),

2.7. Start the project:

    $ python manage.py runserver

    By default, the server starts on the port 8000.
    You can override this with, for example:

    $ python manage.py runserver 9000
    
2.8. Go the web page:

    http://localhost:8000
    or
    http://localhost:9000

See README and http://svn.parisson.org/telemeta/ for more informations.

